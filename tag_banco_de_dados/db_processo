create database db_processo;

use db_processo;

CREATE TABLE candidatos(
	CPF_candidato varchar(14) primary key not null,
	nome varchar(30) not null,
	curso varchar(40) not null,
	contato_1 varchar(40) not null,
	contato_2 varchar(40)	
);

INSERT INTO candidatos (CPF_candidato, nome, curso, contato_1, contato_2) VALUES ("321.654.987-00", "Mike", "Engenharia Eletrônica", "outro@exemplo.com", "987654321");

CREATE TABLE palestrantes(
	CPF_palestrante varchar(14) not null primary key,
	nome varchar(30) not null,
	formacao varchar(40) not null,
	instituicao varchar(40),
	contato_1 varchar(40) not null,
	contato_2 varchar(40)
);

INSERT INTO palestrantes (CPF_palestrante, nome, formacao, instituicao, contato_1, contato_2) VALUES ("123.456.789-00", "Ronaldo", "Engenharia Eletrônica", "UFRJ", "email@exemplo.com", "912345678");

CREATE TABLE palestras(
	ID_palestra INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
	assunto VARCHAR(40) NOT NULL,
	data DATE NOT NULL,
	CPF_palestrante VARCHAR(14) NOT NULL,
	CONSTRAINT FK_CPF_palestrante FOREIGN KEY (CPF_palestrante)
    	REFERENCES palestrantes(CPF_palestrante)
);

INSERT INTO palestras (assunto, data, CPF_palestrante) VALUES ("Ética", "2020-02-03", "123.456.789-00");

CREATE TABLE tags(
	ID_tag INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
	ID_palestra INT NOT NULL,
	data_entrega DATETIME,
	descricao varchar(255) NOT NULL,
	CONSTRAINT FK_ID_palestra FOREIGN KEY (ID_palestra)
    	REFERENCES palestras(ID_palestra)
);

INSERT INTO tags (ID_palestra, data_entrega, descricao) VALUES (1, "2020-02-29 18:00:00", "Elaborar um banco de dados para o processo seletivo");

CREATE TABLE boletim(
	ID_boletim INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
	CPF_candidato VARCHAR(14) NOT NULL,
	ID_tag INT NOT NULL,
	nota INT NOT NULL,
	atraso char(1),
	CONSTRAINT FK_ID_tag FOREIGN KEY (ID_tag)
    	REFERENCES tags(ID_tag)
);

INSERT INTO boletim (CPF_candidato,ID_tag, nota, atraso) VALUES ("321.654.987-00", 1, 8, "N");

CREATE TABLE ouvintes(
	ID_ouvinte INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
	nome varchar(30) NOT NULL,
	CPF_ouvinte VARCHAR(14) NOT NULL, 
	ID_palestra int,
	FOREIGN KEY(ID_palestra) REFERENCES palestras(ID_palestra)
);

INSERT INTO ouvintes (CPF_ouvinte,ID_palestra) VALUES ("111.111.111-11", 1);
